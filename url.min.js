!function(t){"use strict";var f=/^[a-z]+:/,l=/[-a-z0-9]+(\.[-a-z0-9])*:\d+/i,y=/\/\/(.*?)(?::(.*?))?@/,r=/^win/i,d=/:$/,v=/^\?/,g=/^#/,m=/(.*\/)/,q=/^\/{2,}/,w=/(^\/?)/,e=/'/g,o=/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,n=/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,i=/%([0-7][0-9a-f])/gi,p=/\+/g,s=/^\w:$/,A=/[^/#?]/;var a,C="undefined"==typeof window&&"undefined"!=typeof global&&"function"==typeof require,I=C?t.require:null,S={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},b={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443};function j(){return C?a=a||"file://"+(process.platform.match(r)?"/":"")+I("fs").realpathSync("."):document.location.href}function h(t,r,e){var o,n,i;r=r||j(),C?o=I("url").parse(r):(o=document.createElement("a")).href=r;var s=function(t){var r={path:!0,query:!0,hash:!0};return t&&f.test(t)&&(r.protocol=!0,r.host=!0,l.test(t)&&(r.port=!0),y.test(t)&&(r.user=!0,r.pass=!0)),r}(r);for(n in i=r.match(y)||[],S)s[n]?t[n]=o[S[n]]||"":t[n]="";if(t.protocol=t.protocol.replace(d,""),t.query=t.query.replace(v,""),t.hash=x(t.hash.replace(g,"")),t.user=x(i[1]||""),t.pass=x(i[2]||""),t.port=b[t.protocol]==t.port||0==t.port?"":t.port,!s.protocol&&A.test(r.charAt(0))&&(t.path=r.split("?")[0].split("#")[0]),!s.protocol&&e){var p=new F(j().match(m)[0]),a=p.path.split("/"),h=t.path.split("/"),u=["protocol","user","pass","host","port"],c=u.length;for(a.pop(),n=0;n<c;n++)t[u[n]]=p[u[n]];for(;".."===h[0];)a.pop(),h.shift();t.path=("/"!==r.charAt(0)?a.join("/"):"")+"/"+h.join("/")}t.path=t.path.replace(q,"/"),t.path=t.path.replace(w,"/"),t.paths(t.paths()),t.query=new z(t.query)}function u(t){return encodeURIComponent(t).replace(e,"%27")}function x(t){return(t=(t=(t=t.replace(p," ")).replace(o,function(t,r,e,o){var n=parseInt(r,16)-224,i=parseInt(e,16)-128;if(0==n&&i<32)return t;var s=(n<<12)+(i<<6)+(parseInt(o,16)-128);return 65535<s?t:String.fromCharCode(s)})).replace(n,function(t,r,e){var o=parseInt(r,16)-192;if(o<2)return t;var n=parseInt(e,16)-128;return String.fromCharCode((o<<6)+n)})).replace(i,function(t,r){return String.fromCharCode(parseInt(r,16))})}function z(t){for(var r=t.split("&"),e=0,o=r.length;e<o;e++){var n=r[e].split("="),i=decodeURIComponent(n[0].replace(p," "));if(i){var s=void 0!==n[1]?x(n[1]):null;void 0===this[i]?this[i]=s:(this[i]instanceof Array||(this[i]=[this[i]]),this[i].push(s))}}}function F(t,r){h(this,t,!r)}z.prototype.toString=function(){var t,r,e="",o=u;for(t in this){var n=this[t];if(!(n instanceof Function||null===n))if(n instanceof Array){var i=n.length;if(i)for(r=0;r<i;r++){var s=n[r];e+=e?"&":"",e+=o(t)+(null==s?"":"="+o(s))}else e+=(e?"&":"")+o(t)+"="}else e+=e?"&":"",e+=o(t)+(void 0===n?"":"="+o(n))}return e},F.prototype.clearQuery=function(){for(var t in this.query)this.query[t]instanceof Function||delete this.query[t];return this},F.prototype.queryLength=function(){var t=0;for(var r in this.query)this.query[r]instanceof Function||t++;return t},F.prototype.isEmptyQuery=function(){return 0===this.queryLength()},F.prototype.paths=function(t){var r,e="",o=0;if(t&&t.length&&t+""!==t){for(this.isAbsolute()&&(e="/"),r=t.length;o<r;o++)t[o]=!o&&s.test(t[o])?t[o]:u(t[o]);this.path=e+t.join("/")}for(o=0,r=(t=("/"===this.path.charAt(0)?this.path.slice(1):this.path).split("/")).length;o<r;o++)t[o]=x(t[o]);return t},F.prototype.encode=u,F.prototype.decode=x,F.prototype.isAbsolute=function(){return this.protocol||"/"===this.path.charAt(0)},F.prototype.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&u(this.user)+(this.pass&&":"+u(this.pass))+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+u(this.hash))},t[t.exports?"exports":"Url"]=F}("undefined"!=typeof module&&module.exports?module:window);